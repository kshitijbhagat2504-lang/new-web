<script>
  const images = Array.from({ length: 18 }, (_, i) => `${i + 1}.jpeg`);
  const cards = [...images, ...images].sort(() => Math.random() - 0.5);

  const heartMap = [
    0,1,1,0,1,1,0,
    1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,
    0,1,1,1,1,1,0,
    0,1,1,1,1,1,0
  ]; // EXACTLY 36 ONES

  const grid = document.getElementById("grid");
  let flipped = [];
  let matched = 0;
  let cardIndex = 0;

  heartMap.forEach(cell => {
    if (cell === 0) {
      const spacer = document.createElement("div");
      spacer.style.visibility = "hidden";
      grid.appendChild(spacer);
    } else {
      const img = cards[cardIndex++];
      const card = document.createElement("div");
      card.className = "card";
      card.textContent = "ðŸ’Œ";

      card.onclick = () => {
        if (flipped.length === 2 || card.classList.contains("matched")) return;

        card.innerHTML = `<img src="${img}">`;
        flipped.push({ card, img });

        if (flipped.length === 2) {
          if (flipped[0].img === flipped[1].img) {
            flipped.forEach(c => c.card.classList.add("matched"));
            matched++;
            flipped = [];

            if (matched === images.length) {
              document.getElementById("game").style.display = "none";
              document.getElementById("final").style.display = "flex";
            }
          } else {
            setTimeout(() => {
              flipped.forEach(c => c.card.textContent = "ðŸ’Œ");
              flipped = [];
            }, 800);
          }
        }
      };

      grid.appendChild(card);
    }
  });

  console.log("Cards created:", cardIndex);
</script>
